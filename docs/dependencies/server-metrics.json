{
  "metadata": {
    "timestamp": "2026-02-01T12:52:39.625Z",
    "app": "server",
    "generator": "generate-metrics.js v1.0.0"
  },
  "summary": {
    "totalModules": 37,
    "totalDependencies": 112,
    "graphDensity": 0.084,
    "avgFanOut": 3.03,
    "avgFanIn": 3.03,
    "healthScore": 78,
    "status": "WARN"
  },
  "circular": {
    "cycleCount": 0,
    "avgCycleLength": 0,
    "modulesInCycles": 0,
    "percentageInCycles": 0,
    "cycles": []
  },
  "coupling": {
    "avgFanOut": 3.03,
    "maxFanOut": 12,
    "maxFanOutFile": "infrastructure/di/container.ts",
    "avgFanIn": 3.03,
    "maxFanIn": 12,
    "maxFanInFile": "shared/errors/domain-errors.ts",
    "criticalCoupling": [],
    "highCoupling": [],
    "godModules": []
  },
  "depth": {
    "longestChain": 7,
    "avgDepth": 2.35,
    "criticalDepth": [],
    "deepModules": [
      {
        "file": "index.ts",
        "maxDepth": 7,
        "severity": "warning"
      },
      {
        "file": "infrastructure/di/container.ts",
        "maxDepth": 6,
        "severity": "warning"
      }
    ]
  },
  "cohesion": {
    "orphanedModules": [],
    "isolatedCount": 0,
    "byDirectory": {
      "application/dto/": {
        "totalModules": 2,
        "internalImports": 1,
        "externalImports": 1,
        "cohesionScore": 50
      },
      "application/services/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 7,
        "cohesionScore": 0
      },
      "application/use-cases/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 7,
        "cohesionScore": 0
      },
      "domain/entities/": {
        "totalModules": 4,
        "internalImports": 0,
        "externalImports": 11,
        "cohesionScore": 0
      },
      "domain/repositories/": {
        "totalModules": 5,
        "internalImports": 4,
        "externalImports": 10,
        "cohesionScore": 28.6
      },
      "domain/value-objects/": {
        "totalModules": 4,
        "internalImports": 0,
        "externalImports": 4,
        "cohesionScore": 0
      },
      "./": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 6,
        "cohesionScore": 0
      },
      "infrastructure/config/": {
        "totalModules": 2,
        "internalImports": 1,
        "externalImports": 0,
        "cohesionScore": 100
      },
      "infrastructure/di/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 12,
        "cohesionScore": 0
      },
      "infrastructure/persistence/firestore/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 0,
        "cohesionScore": 0
      },
      "infrastructure/persistence/firestore/mappers/": {
        "totalModules": 4,
        "internalImports": 0,
        "externalImports": 12,
        "cohesionScore": 0
      },
      "infrastructure/persistence/firestore/repositories/": {
        "totalModules": 4,
        "internalImports": 0,
        "externalImports": 26,
        "cohesionScore": 0
      },
      "presentation/dto/": {
        "totalModules": 2,
        "internalImports": 0,
        "externalImports": 0,
        "cohesionScore": 0
      },
      "presentation/mappers/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 4,
        "cohesionScore": 0
      },
      "presentation/routes/": {
        "totalModules": 3,
        "internalImports": 0,
        "externalImports": 6,
        "cohesionScore": 0
      },
      "shared/errors/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 0,
        "cohesionScore": 0
      }
    }
  },
  "graph": {
    "nodeCount": 37,
    "edgeCount": 112,
    "density": 0.084,
    "avgDegree": 6.05,
    "maxPossibleEdges": 1332
  },
  "topModules": {
    "mostCoupled": [
      {
        "file": "infrastructure/di/container.ts",
        "fanOut": 12,
        "rank": 1
      },
      {
        "file": "application/services/team-repo-resolver.ts",
        "fanOut": 7,
        "rank": 2
      },
      {
        "file": "application/use-cases/ingest-scan-run.use-case.ts",
        "fanOut": 7,
        "rank": 3
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-repo-repository.ts",
        "fanOut": 7,
        "rank": 4
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-scan-run-repository.ts",
        "fanOut": 7,
        "rank": 5
      },
      {
        "file": "index.ts",
        "fanOut": 6,
        "rank": 6
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-item-repository.ts",
        "fanOut": 6,
        "rank": 7
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-team-repository.ts",
        "fanOut": 6,
        "rank": 8
      },
      {
        "file": "domain/entities/scan-run.ts",
        "fanOut": 4,
        "rank": 9
      },
      {
        "file": "domain/repositories/repo-repository.ts",
        "fanOut": 4,
        "rank": 10
      }
    ],
    "mostDepended": [
      {
        "file": "shared/errors/domain-errors.ts",
        "fanIn": 12,
        "rank": 1
      },
      {
        "file": "domain/value-objects/repo-value-objects.ts",
        "fanIn": 11,
        "rank": 2
      },
      {
        "file": "domain/value-objects/team-value-objects.ts",
        "fanIn": 11,
        "rank": 3
      },
      {
        "file": "domain/value-objects/scan-value-objects.ts",
        "fanIn": 7,
        "rank": 4
      },
      {
        "file": "infrastructure/persistence/firestore/firestore-client.ts",
        "fanIn": 6,
        "rank": 5
      },
      {
        "file": "domain/value-objects/item-value-objects.ts",
        "fanIn": 5,
        "rank": 6
      },
      {
        "file": "domain/entities/item.ts",
        "fanIn": 4,
        "rank": 7
      },
      {
        "file": "domain/entities/repo.ts",
        "fanIn": 4,
        "rank": 8
      },
      {
        "file": "domain/entities/scan-run.ts",
        "fanIn": 4,
        "rank": 9
      },
      {
        "file": "domain/entities/team.ts",
        "fanIn": 4,
        "rank": 10
      }
    ],
    "deepest": [
      {
        "file": "index.ts",
        "maxDepth": 7,
        "rank": 1
      },
      {
        "file": "infrastructure/di/container.ts",
        "maxDepth": 6,
        "rank": 2
      },
      {
        "file": "application/use-cases/ingest-scan-run.use-case.ts",
        "maxDepth": 5,
        "rank": 3
      },
      {
        "file": "application/services/team-repo-resolver.ts",
        "maxDepth": 4,
        "rank": 4
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-item-repository.ts",
        "maxDepth": 4,
        "rank": 5
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-repo-repository.ts",
        "maxDepth": 4,
        "rank": 6
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-scan-run-repository.ts",
        "maxDepth": 4,
        "rank": 7
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-team-repository.ts",
        "maxDepth": 4,
        "rank": 8
      },
      {
        "file": "presentation/routes/ingest.routes.ts",
        "maxDepth": 4,
        "rank": 9
      },
      {
        "file": "domain/repositories/repo-repository.ts",
        "maxDepth": 3,
        "rank": 10
      }
    ]
  },
  "violations": {
    "critical": [],
    "warnings": [
      {
        "type": "HIGH_DEPTH",
        "file": "index.ts",
        "metric": "maxDepth",
        "value": 7,
        "threshold": 6,
        "message": "Dependency chain depth: 7 levels (threshold: 6)"
      },
      {
        "type": "HIGH_DEPTH",
        "file": "infrastructure/di/container.ts",
        "metric": "maxDepth",
        "value": 6,
        "threshold": 6,
        "message": "Dependency chain depth: 6 levels (threshold: 6)"
      }
    ]
  },
  "healthScore": {
    "overall": 78,
    "breakdown": {
      "coupling": 100,
      "depth": 100,
      "cohesion": 11,
      "modularity": 100
    }
  }
}