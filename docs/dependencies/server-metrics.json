{
  "metadata": {
    "app": "server",
    "generator": "generate-metrics.js v1.0.0"
  },
  "summary": {
    "totalModules": 44,
    "totalDependencies": 106,
    "graphDensity": 0.056,
    "avgFanOut": 2.41,
    "avgFanIn": 2.41,
    "healthScore": 88,
    "status": "WARN"
  },
  "circular": {
    "cycleCount": 0,
    "avgCycleLength": 0,
    "modulesInCycles": 0,
    "percentageInCycles": 0,
    "cycles": []
  },
  "coupling": {
    "avgFanOut": 2.41,
    "maxFanOut": 8,
    "maxFanOutFile": "application/use-cases/ingest-scan-run.use-case.ts",
    "avgFanIn": 2.41,
    "maxFanIn": 13,
    "maxFanInFile": "shared/errors/domain-errors.ts",
    "criticalCoupling": [],
    "highCoupling": [],
    "godModules": []
  },
  "depth": {
    "longestChain": 6,
    "avgDepth": 2.11,
    "criticalDepth": [],
    "deepModules": [
      {
        "file": "application/use-cases/ingest-scan-run.use-case.ts",
        "maxDepth": 6,
        "severity": "warning"
      }
    ]
  },
  "cohesion": {
    "orphanedModules": [
      "presentation/routes/health.ts"
    ],
    "isolatedCount": 1,
    "byDirectory": {
      "application/dto/": {
        "totalModules": 2,
        "internalImports": 1,
        "externalImports": 1,
        "cohesionScore": 50
      },
      "application/ports/": {
        "totalModules": 6,
        "internalImports": 5,
        "externalImports": 10,
        "cohesionScore": 33.3
      },
      "application/services/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 7,
        "cohesionScore": 0
      },
      "application/use-cases/": {
        "totalModules": 2,
        "internalImports": 1,
        "externalImports": 11,
        "cohesionScore": 8.3
      },
      "domain/quest/": {
        "totalModules": 2,
        "internalImports": 1,
        "externalImports": 2,
        "cohesionScore": 33.3
      },
      "domain/repo-readiness/": {
        "totalModules": 2,
        "internalImports": 1,
        "externalImports": 4,
        "cohesionScore": 20
      },
      "domain/repo/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 1,
        "cohesionScore": 0
      },
      "domain/scan-run/": {
        "totalModules": 2,
        "internalImports": 1,
        "externalImports": 2,
        "cohesionScore": 33.3
      },
      "domain/shared/": {
        "totalModules": 2,
        "internalImports": 0,
        "externalImports": 2,
        "cohesionScore": 0
      },
      "domain/team/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 1,
        "cohesionScore": 0
      },
      "infrastructure/config/": {
        "totalModules": 2,
        "internalImports": 1,
        "externalImports": 0,
        "cohesionScore": 100
      },
      "infrastructure/persistence/firestore/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 0,
        "cohesionScore": 0
      },
      "infrastructure/persistence/firestore/mappers/": {
        "totalModules": 5,
        "internalImports": 0,
        "externalImports": 9,
        "cohesionScore": 0
      },
      "infrastructure/persistence/firestore/repositories/": {
        "totalModules": 5,
        "internalImports": 0,
        "externalImports": 30,
        "cohesionScore": 0
      },
      "infrastructure/scripts/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 6,
        "cohesionScore": 0
      },
      "presentation/dto/": {
        "totalModules": 3,
        "internalImports": 0,
        "externalImports": 0,
        "cohesionScore": 0
      },
      "presentation/mappers/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 4,
        "cohesionScore": 0
      },
      "presentation/routes/": {
        "totalModules": 4,
        "internalImports": 0,
        "externalImports": 5,
        "cohesionScore": 0
      },
      "shared/errors/": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 0,
        "cohesionScore": 0
      }
    },
    "byBoundedContext": {
      "quest": {
        "modules": [
          "application/ports/quest-repository.ts",
          "domain/quest/quest-value-objects.ts",
          "domain/quest/quest.ts",
          "infrastructure/persistence/firestore/mappers/quest-mapper.ts",
          "infrastructure/persistence/firestore/repositories/firestore-quest-repository.ts",
          "presentation/dto/quest.dto.ts"
        ],
        "totalModules": 6,
        "internalImports": 9,
        "externalImports": 5,
        "cohesionScore": 64.3
      },
      "repo-readiness": {
        "modules": [
          "application/ports/repo-readiness-repository.ts",
          "domain/repo-readiness/repo-readiness-value-objects.ts",
          "domain/repo-readiness/repo-readiness.ts",
          "infrastructure/persistence/firestore/mappers/repo-readiness-mapper.ts",
          "infrastructure/persistence/firestore/repositories/firestore-repo-readiness-repository.ts",
          "presentation/dto/repo-readiness.dto.ts"
        ],
        "totalModules": 6,
        "internalImports": 7,
        "externalImports": 11,
        "cohesionScore": 38.9
      },
      "repo": {
        "modules": [
          "application/ports/repo-repository.ts",
          "domain/repo/repo.ts",
          "infrastructure/persistence/firestore/mappers/repo-mapper.ts",
          "infrastructure/persistence/firestore/repositories/firestore-repo-repository.ts"
        ],
        "totalModules": 4,
        "internalImports": 5,
        "externalImports": 4,
        "cohesionScore": 55.6
      },
      "scan-run": {
        "modules": [
          "application/ports/scan-run-repository.ts",
          "domain/scan-run/scan-run.ts",
          "domain/scan-run/scan-value-objects.ts",
          "infrastructure/persistence/firestore/mappers/scan-run-mapper.ts",
          "infrastructure/persistence/firestore/repositories/firestore-scan-run-repository.ts"
        ],
        "totalModules": 5,
        "internalImports": 9,
        "externalImports": 6,
        "cohesionScore": 60
      },
      "team": {
        "modules": [
          "application/ports/team-repository.ts",
          "domain/team/team.ts",
          "infrastructure/persistence/firestore/mappers/team-mapper.ts",
          "infrastructure/persistence/firestore/repositories/firestore-team-repository.ts"
        ],
        "totalModules": 4,
        "internalImports": 5,
        "externalImports": 6,
        "cohesionScore": 45.5
      }
    },
    "byLayer": {
      "domain": {
        "totalModules": 10,
        "internalImports": 6,
        "externalImports": 9,
        "cohesionScore": 40
      },
      "application": {
        "totalModules": 11,
        "internalImports": 17,
        "externalImports": 19,
        "cohesionScore": 47.2
      },
      "infrastructure": {
        "totalModules": 14,
        "internalImports": 15,
        "externalImports": 31,
        "cohesionScore": 32.6
      },
      "presentation": {
        "totalModules": 8,
        "internalImports": 5,
        "externalImports": 4,
        "cohesionScore": 55.6
      },
      "shared": {
        "totalModules": 1,
        "internalImports": 0,
        "externalImports": 0,
        "cohesionScore": 0
      }
    },
    "dependencyViolations": [],
    "moduleIsolation": {
      "orphaned": [
        "presentation/routes/health.ts"
      ],
      "leafModules": [
        "application/dto/repo-metadata.dto.ts",
        "application/ports/base-repository.ts",
        "infrastructure/config/environment.ts",
        "infrastructure/persistence/firestore/firestore-client.ts",
        "presentation/dto/ingest-scan.dto.ts",
        "presentation/dto/quest.dto.ts",
        "presentation/dto/repo-readiness.dto.ts",
        "shared/errors/domain-errors.ts"
      ],
      "rootModules": [
        "application/use-cases/ingest-scan-run.use-case.ts",
        "infrastructure/persistence/firestore/repositories/firestore-repo-readiness-repository.ts",
        "infrastructure/persistence/firestore/repositories/firestore-repo-repository.ts",
        "infrastructure/persistence/firestore/repositories/firestore-scan-run-repository.ts",
        "infrastructure/persistence/firestore/repositories/firestore-team-repository.ts",
        "infrastructure/scripts/seed-quests.ts",
        "presentation/routes/ingest.routes.ts",
        "presentation/routes/quests.routes.ts",
        "presentation/routes/repo-readiness.routes.ts"
      ]
    }
  },
  "graph": {
    "nodeCount": 44,
    "edgeCount": 106,
    "density": 0.056,
    "avgDegree": 4.82,
    "maxPossibleEdges": 1892
  },
  "topModules": {
    "mostCoupled": [
      {
        "file": "application/use-cases/ingest-scan-run.use-case.ts",
        "fanOut": 8,
        "rank": 1
      },
      {
        "file": "application/services/team-repo-resolver.ts",
        "fanOut": 7,
        "rank": 2
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-scan-run-repository.ts",
        "fanOut": 7,
        "rank": 3
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-quest-repository.ts",
        "fanOut": 6,
        "rank": 4
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-repo-readiness-repository.ts",
        "fanOut": 6,
        "rank": 5
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-team-repository.ts",
        "fanOut": 6,
        "rank": 6
      },
      {
        "file": "infrastructure/scripts/seed-quests.ts",
        "fanOut": 6,
        "rank": 7
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-repo-repository.ts",
        "fanOut": 5,
        "rank": 8
      },
      {
        "file": "application/ports/repo-readiness-repository.ts",
        "fanOut": 4,
        "rank": 9
      },
      {
        "file": "application/use-cases/compute-repo-readiness.use-case.ts",
        "fanOut": 4,
        "rank": 10
      }
    ],
    "mostDepended": [
      {
        "file": "shared/errors/domain-errors.ts",
        "fanIn": 13,
        "rank": 1
      },
      {
        "file": "domain/scan-run/scan-value-objects.ts",
        "fanIn": 9,
        "rank": 2
      },
      {
        "file": "domain/scan-run/scan-run.ts",
        "fanIn": 6,
        "rank": 3
      },
      {
        "file": "infrastructure/persistence/firestore/firestore-client.ts",
        "fanIn": 6,
        "rank": 4
      },
      {
        "file": "application/ports/base-repository.ts",
        "fanIn": 5,
        "rank": 5
      },
      {
        "file": "domain/quest/quest-value-objects.ts",
        "fanIn": 5,
        "rank": 6
      },
      {
        "file": "domain/quest/quest.ts",
        "fanIn": 5,
        "rank": 7
      },
      {
        "file": "domain/shared/repo-types.ts",
        "fanIn": 5,
        "rank": 8
      },
      {
        "file": "domain/shared/team-types.ts",
        "fanIn": 5,
        "rank": 9
      },
      {
        "file": "domain/repo-readiness/repo-readiness.ts",
        "fanIn": 4,
        "rank": 10
      }
    ],
    "deepest": [
      {
        "file": "application/use-cases/ingest-scan-run.use-case.ts",
        "maxDepth": 6,
        "rank": 1
      },
      {
        "file": "application/use-cases/compute-repo-readiness.use-case.ts",
        "maxDepth": 5,
        "rank": 2
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-repo-readiness-repository.ts",
        "maxDepth": 5,
        "rank": 3
      },
      {
        "file": "infrastructure/scripts/seed-quests.ts",
        "maxDepth": 5,
        "rank": 4
      },
      {
        "file": "application/ports/repo-readiness-repository.ts",
        "maxDepth": 4,
        "rank": 5
      },
      {
        "file": "infrastructure/persistence/firestore/mappers/repo-readiness-mapper.ts",
        "maxDepth": 4,
        "rank": 6
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-quest-repository.ts",
        "maxDepth": 4,
        "rank": 7
      },
      {
        "file": "infrastructure/persistence/firestore/repositories/firestore-scan-run-repository.ts",
        "maxDepth": 4,
        "rank": 8
      },
      {
        "file": "presentation/routes/ingest.routes.ts",
        "maxDepth": 4,
        "rank": 9
      },
      {
        "file": "application/ports/quest-repository.ts",
        "maxDepth": 3,
        "rank": 10
      }
    ]
  },
  "violations": {
    "critical": [],
    "warnings": [
      {
        "type": "HIGH_DEPTH",
        "file": "application/use-cases/ingest-scan-run.use-case.ts",
        "metric": "maxDepth",
        "value": 6,
        "threshold": 6,
        "message": "Dependency chain depth: 6 levels (threshold: 6)"
      }
    ]
  },
  "healthScore": {
    "overall": 88,
    "breakdown": {
      "coupling": 100,
      "depth": 100,
      "cohesion": 53,
      "modularity": 100
    }
  }
}